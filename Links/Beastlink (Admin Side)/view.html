<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Documents/Requirements - BeastLink University</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      /* Fix width for document info box */
      .doc-info-box {
        width: 600px; /* increased width to accommodate View button */
        min-width: 600px;
      }
      /* Fix width for file name box */
      .file-name-box {
        width: 180px;
        min-width: 180px;
      }
    </style>
  </head>
  <body class="bg-[#d9f6f0] min-h-screen flex">
    <div id="root" class="flex flex-1 w-full"></div>

    <script type="text/babel" data-type="module" data-presets="react">
      const documents = [
        {
          title: "Application Form",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Application Form.pdf",
          fileType: "pdf",
          fileUrl:
            "../../Yvosh Martin.pdf",
        },
        {
          title: "Birth Certificate",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Birth Certificate.pdf",
          fileType: "pdf",
          fileUrl: "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf",
        },
        {
          title: "Students’ Voter ID/Certificate",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Voters.pdf",
          fileType: "pdf",
          fileUrl:
            "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf",
        },
        {
          title: "Guardian’s Voter ID/Certificate",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Guardian Voters.pdf",
          fileType: "pdf",
          fileUrl:
            "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf",
        },
        {
          title: "Grade 11 Grade Card",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Grade 11.pdf",
          fileType: "pdf",
          fileUrl:
            "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf",
        },
        {
          title: "Grade 12 Grade Card",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_Grade 12.pdf",
          fileType: "pdf",
          fileUrl:
            "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf",
        },
        {
          title: "Passport size picture",
          description:
            "Must be uploaded in the following formats: .PDF, .JPEG, .PNG, .DOCX, with a maximum file size of 10MB.",
          fileName: "Dela Cruz_School ID.ppt",
          fileType: "image",
          fileUrl:
            "https://placehold.co/200x200/png?text=Passport+Size+Picture",
        },
      ];

      function Sidebar() {
        return (
          <aside className="bg-[#0a4a3e] w-56 flex flex-col justify-between text-white min-h-screen">
            <div>
              <div className="flex flex-col items-center py-8 border-b border-[#1a5e4d]">
                <img
                  alt="BeastLink University green dragon logo on white circle background"
                  className="w-40 h-40"
                  height="80"
                  src="LOGO.png"
                  width="80"
                />
                <p className="mt-10 text-m font-normal">BeastLink University</p>
              </div>

              <nav className="mt-6 space-y-2 px-3">
                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-home text-sm"></i> Dashboard
                </a>

                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-lock text-sm"></i> Teachers
                </a>
                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-graduation-cap text-sm"></i>{" "}
                  Students/classes
                </a>

                {/* Active link - DO NOT add fixed height here */}
                <a
                  href="#"
                  className="flex items-start gap-3 px-3 py-2 rounded-md bg-[#00b39f] text-white text-sm font-normal"
                >
                  <i className="fas fa-file-alt text-sm mt-1"></i>
                  <span className="leading-tight">
                    Documents/
                    <br />
                    Requirements
                  </span>
                </a>

                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-file-invoice-dollar text-sm"></i> Billing
                </a>
                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-cog text-sm"></i> Settings and profile
                </a>
                <a
                  href="#"
                  className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
                >
                  <i className="fas fa-file-alt text-sm"></i> Exams
                </a>
              </nav>
            </div>

            <div className="flex flex-col items-center py-8 border-b border-[#1a5e4d]">
              <a
                href="#"
                className="flex items-center gap-3 px-3 py-2 h-12 rounded-md bg-[#0B5F4E] text-white text-sm font-normal hover:bg-[#00b39f] transition-colors"
              >
                <i className="fas fa-university text-sm"></i> Features
                <span className="bg-white text-[#0B4C40] text-[8px] font-bold rounded-full px-1.5 py-0.5 ml-1">
                  NEW
                </span>
              </a>
            </div>
          </aside>
        );
      }

      export default Sidebar;

      function Header() {
        return (
          <header className="flex items-center justify-between bg-[#fff] px-6 py-4 border-b border-[#fff] shadow-md">
            <a
              href="dashboard.html"
              aria-label="Back"
              className="text-[#0a4a3e] text-2xl font-bold flex items-center"
            >
              <i className="fas fa-arrow-left"></i>
            </a>

            <div className="flex items-center gap-6">
              <button
                aria-label="Notifications"
                className="relative text-[#0a4a3e] text-xl"
              >
                <i className="fas fa-bell"></i>
                <span className="absolute -bottom-1 -right-1 w-1 h-1 rounded-full bg-black"></span>
              </button>
              <button
                type="button"
                className="bg-[#0a4a3e] text-white text-sm font-semibold rounded-md px-5 py-2"
              >
                Log out
              </button>
            </div>
          </header>
        );
      }

      function DocumentItem({ title, description, fileName, onView }) {
        return (
          <div className="doc-info-box bg-[#F3F3F3] rounded-md shadow-md flex items-center justify-between p-4 max-w-[1450px] w-full">
            <div className="flex-1 pr-4">
              <p className="font-semibold text-m text-[#0a4a3e] mb-0.5">
                {title}
              </p>
              <p className="text-[12px] text-[#0a4a3e]">
                {description.split("10MB.")[0]}
                <span className="underline">10MB.</span>
              </p>
            </div>

            <div className="file-name-box bg-[#F3F3F3] shadow-md text-[10px] font-semibold text-[#0a4a3e] rounded-md px-3 py-1 whitespace-nowrap border border-gray-200">
              {fileName}
            </div>

            <button
              type="button"
              onClick={onView}
              className="bg-[#02542D] hover:bg-[#10B78F] text-white text-xs font-semibold rounded-md px-4 h-10 py-2 ml-4 flex items-center transition-colors duration-200 whitespace-nowrap"
            >
              <i className="fas fa-eye mr-1"></i> View
            </button>
          </div>
        );
      }

      function ConfirmModal({ isOpen, onClose, onConfirm }) {
        if (!isOpen) return null;
        return (
          <div className="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
            <div className="bg-white rounded-md shadow-lg w-full max-w-md p-6 text-center relative">
              <button
                onClick={onClose}
                className="absolute top-2 right-2 text-gray-500 hover:text-[#00594C] text-xl font-bold focus:outline-none"
                aria-label="Close Modal"
              >
                &times;
              </button>
              <h2 className="text-xl font-semibold text-[#0a4a3e] mb-4">
                Confirmation
              </h2>
              <p className="mb-6 text-[#0a4a3e]">
                Are you sure you want to approve this file?
              </p>
              <div className="flex justify-center gap-4">
                <button
                  onClick={onConfirm}
                  className="bg-[#00594C] text-white font-semibold px-6 py-2 rounded-md hover:bg-[#02745F] transition duration-200"
                >
                  Approve
                </button>
                <button
                  onClick={onClose}
                  className="bg-[#DD0303] text-white font-semibold px-6 py-2 rounded-md hover:bg-[#B00202] transition duration-200"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        );
      }

      function RejectModal({ isOpen, onClose, onSubmit }) {
        const [reason, setReason] = React.useState("");

        React.useEffect(() => {
          if (!isOpen) setReason("");
        }, [isOpen]);

        if (!isOpen) return null;

        return (
          <div className="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
            <div className="bg-white rounded-md shadow-lg w-full max-w-md p-6 relative">
              <button
                onClick={onClose}
                className="absolute top-2 right-2 text-gray-500 hover:text-[#00594C] text-xl font-bold focus:outline-none"
                aria-label="Close Modal"
              >
                &times;
              </button>

              <div className="mb-4">
                <label className="block text-[#c30010] font-semibold mb-2">
                  Reason to reject:
                </label>
                <textarea
                  className="w-full border border-gray-300 rounded-md p-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-[#c30010]"
                  rows="4"
                  placeholder="Enter reason here..."
                  value={reason}
                  onChange={(e) => setReason(e.target.value)}
                ></textarea>
              </div>

              <div className="flex justify-center">
                <button
                  onClick={() => onSubmit(reason)}
                  disabled={reason.trim() === ""}
                  className={`${
                    reason.trim() === ""
                      ? "bg-gray-300 cursor-not-allowed"
                      : "bg-[#c30010] hover:bg-[#ff2c2c]"
                  } text-white font-semibold px-6 py-2 rounded-md transition duration-200`}
                >
                  Submit
                </button>
              </div>
            </div>
          </div>
        );
      }

      function ViewModal({ isOpen, onClose, file }) {
        if (!isOpen || !file) return null;

        // Determine preview based on file type
        const { fileType, fileUrl, fileName } = file;

        return (
          <div className="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4">
            <div className="bg-white rounded-md shadow-lg w-full max-w-4xl h-[900px] flex flex-col">
              <div className="flex justify-between items-center border-b border-gray-300 p-4">
                <h2 className="text-lg font-semibold text-[#0a4a3e]">
                  {fileName}
                </h2>
                <button
                  onClick={onClose}
                  className="text-gray-500 hover:text-[#00594C] text-2xl font-bold focus:outline-none"
                  aria-label="Close Preview"
                >
                  &times;
                </button>
              </div>
              <div className="flex-1 overflow-auto p-4 bg-gray-50">
                {fileType === "pdf" && (
                  <iframe
                    src={fileUrl}
                    title={fileName}
                    className="w-full h-full min-h-[400px]"
                    frameBorder="0"
                  />
                )}
                {fileType === "image" && (
                  <img
                    src={fileUrl}
                    alt={fileName}
                    className="max-w-full max-h-[80vh] mx-auto"
                  />
                )}
                {fileType === "text" && (
                  <iframe
                    src={fileUrl}
                    title={fileName}
                    className="w-full h-full min-h-[400px]"
                    frameBorder="0"
                  />
                )}
                {/* Add other file type previews as needed */}
              </div>
            </div>
          </div>
        );
      }

      function DocumentRow({ doc, onView, onApprove, onReject }) {
        return (
          <div className="flex items-center max-w-full">
            <DocumentItem
              title={doc.title}
              description={doc.description}
              fileName={doc.fileName}
              onView={() => onView(doc)}
            />
            <button
              aria-label="Cancel"
              type="button"
              onClick={() => onReject(doc)}
              className="bg-[#10B78F] hover:bg-[#02542D] text-white rounded-md w-16 h-16 ml-4 flex items-center justify-center shadow-md transition duration-200"
            >
              <div className="bg-[#00594C] hover:bg-[#10B78F] text-white rounded-full w-8 h-8 flex items-center justify-center">
                <i className="fas fa-times text-lg"></i>
              </div>
            </button>

            <button
              aria-label="Confirm"
              type="button"
              onClick={() => onApprove(doc)}
              className="bg-[#10B78F] hover:bg-[#02542D] text-white rounded-md w-16 h-16 ml-4 flex items-center justify-center shadow-md transition duration-200"
            >
              <div className="bg-[#00594C] hover:bg-[#10B78F] text-white rounded-full w-8 h-8 flex items-center justify-center">
                <i className="fas fa-check text-sm"></i>
              </div>
            </button>
          </div>
        );
      }

      function App() {
        const [rejectModalOpen, setRejectModalOpen] = React.useState(false);
        const [confirmModalOpen, setConfirmModalOpen] = React.useState(false);
        const [viewModalOpen, setViewModalOpen] = React.useState(false);
        const [selectedDoc, setSelectedDoc] = React.useState(null);

        const handleView = (doc) => {
          setSelectedDoc(doc);
          setViewModalOpen(true);
        };

        const handleApprove = (doc) => {
          setSelectedDoc(doc);
          setConfirmModalOpen(true);
        };

        const handleReject = (doc) => {
          setSelectedDoc(doc);
          setRejectModalOpen(true);
        };

        const handleConfirmApprove = () => {
          alert(`Approved: ${selectedDoc.fileName}`);
          setConfirmModalOpen(false);
          setSelectedDoc(null);
        };

        const handleSubmitReject = (reason) => {
          alert(`Rejected: ${selectedDoc.fileName}\nReason: ${reason}`);
          setRejectModalOpen(false);
          setSelectedDoc(null);
        };

        return (
          <>
            <Sidebar />
            <main className="flex-1 flex flex-col">
              <Header />

              <section className="p-6">
                <div className="bg-white rounded-md shadow-md p-4 max-w-10xl text-[#0a4a3e] font-semibold text-lg">
                  {`{Student/Applicant Name}`}
                </div>
              </section>

              <section className="p-6 max-w-10xl space-y-4">
                <div className="bg-white rounded-md shadow-md p-6 w-full max-w-[1900px] space-y-4">
                  {documents.map((doc, idx) => (
                    <DocumentRow
                      key={idx}
                      doc={doc}
                      onView={handleView}
                      onApprove={handleApprove}
                      onReject={handleReject}
                    />
                  ))}
                </div>
              </section>
            </main>

            <ConfirmModal
              isOpen={confirmModalOpen}
              onClose={() => setConfirmModalOpen(false)}
              onConfirm={handleConfirmApprove}
            />

            <RejectModal
              isOpen={rejectModalOpen}
              onClose={() => setRejectModalOpen(false)}
              onSubmit={handleSubmitReject}
            />

            <ViewModal
              isOpen={viewModalOpen}
              onClose={() => setViewModalOpen(false)}
              file={selectedDoc}
            />
          </>
        );
      }

      ReactDOM.render(<App />, document.getElementById("root"));
    </script>

    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </body>
</html>
